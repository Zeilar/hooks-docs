import UseTimeoutDemo from "@site/src/components/demo/UseTimeoutDemo";

<UseTimeoutDemo />

```tsx
import Button from "@mui/material/Button";
import { useOnMount, useOnUnmount, useTimeout } from "@zeilar/hooks";
import React, { useEffect, useRef, useState } from "react";
import { withBrowserOnly } from "../withBrowserOnly";

const TIMER = 2000;

function UseTimeoutDemo() {
	const [done, setDone] = useState(false);
	const { clear, ref } = useTimeout(() => {
		setDone(true);
	}, TIMER);
	const [countdown, setCountdown] = useState(TIMER);
	const countdownRef = useRef<number>();

	function clearCountdown() {
		clear();
		clearTimeout(countdownRef.current);
		setDone(true);
		setCountdown(0);
	}

	useOnMount(() => {
		const timeout = window.setInterval(() => {
			setCountdown(countdown => countdown - 1000);
		}, 1000);
		countdownRef.current = timeout;
	});

	useEffect(() => {
		if (countdown <= 0) {
			clearTimeout(countdownRef.current);
		}
	}, [countdown]);

	useOnUnmount(() => {
		clearTimeout(countdownRef.current);
	});

	return (
		<pre>
			<p>{done ? "Done" : countdown / 1000}</p>
			<Button onClick={clearCountdown}>Clear</Button>
		</pre>
	);
}
```
